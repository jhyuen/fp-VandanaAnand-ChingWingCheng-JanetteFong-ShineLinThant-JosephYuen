<!doctype html>
<html lang="en">

<head>
  <title>CS4241 Final Project - Tenant</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="tenantstyle.css" />
</head>

<body>
  <div class="nav-top">
    <h1 class="welcome">Welcome firstName lastName</h1>
    <button class="logoutBtn" onclick="window.location.href='/login.html'"><i class="fa fa-sign-out"></i></button>
  </div>

  <div class="nav-btn-group">
    <button id="contact" class="button"><i class="fa fa-address-card"></i></button>
    <button id="calendar" class="button"><i class="fa fa-calendar"></i></button>
    <button id="payment" class="button"><i class="fa fa-credit-card"></i></button>
  </div>

  <div class="content">
    <div id="contactScreen">
      <h3>Contact</h3>
    </div>

    <div id="calendarScreen">
      <h3>Calendar</h3>
    </div>

    <div id="paymentScreen">
      <h3>Payment</h3>
            <div id="getButtons">
              <button onclick="getPayments()">Click Me!</button>

            </div>
            <div id="displayInformation">

            </div>
<!--        <div class="row" style="position: absolute;left:10%;">-->
<!--          <div class="column" style="background-color:#aaa;" onclick="getContainer()">-->
<!--            <h2>September 2019</h2>-->
<!--          </div>-->
<!--          <div class="column" style="background-color:#bbb;" onclick="getContainer()">-->
<!--            <h2>October 2019</h2>-->
<!--          </div>-->
<!--          <div class="column" style="background-color:#ccc;" onclick="getContainer()">-->
<!--            <h2>November 2019</h2>-->
<!--          </div>-->
<!--          <div class="column" style="background-color:#ddd;" onclick="getContainer()">-->
<!--            <h2>December 2019</h2>-->
<!--          </div>-->
<!--          <div id="myDIV" style="position:absolute;left:270%;top:2%;width:100%;height:100%;background-color:lightblue;margin-top:20px;text-align:center;padding:50px;border-style:solid;">-->
<!--            <h2>Rent Due!</h2>-->
<!--            <p>Payment: $500</p>-->
<!--            <p>Due: September 30th, 2019</p>-->
<!--            <button><a href="https://www.paypal.com/us/for-you/transfer-money/send-money">Pay Here!</a></button>-->
<!--          </div>-->
<!--        </div>-->

<!--        <script>-->
<!--          // Get the elements with class="column"-->
<!--          var elements = document.getElementsByClassName("column");-->

<!--          for (let i = 0; i < elements.length; i++) {-->
<!--            elements[i].style.width = "200%";-->
<!--          }-->

<!--          function getContainer(){-->
<!--            var x = document.getElementById("myDIV");-->
<!--            if (x.style.display === "none") {-->
<!--              x.style.display = "block";-->
<!--            } else {-->
<!--              x.style.display = "none";-->
<!--            }-->
<!--          }-->

<!--          /* Optional: Add active class to the current button (highlight it) */-->
<!--          // var container = document.getElementById("row");-->
<!--          // var btns = container.getElementsByClassName("column");-->
<!--          // for (var i = 0; i < btns.length; i++) {-->
<!--          //   btns[i].addEventListener("click", function() {-->
<!--          //     var current = document.getElementsByClassName("active");-->
<!--          //     current[0].className = current[0].className.replace(" active", "");-->
<!--          //     this.className += " active";-->
<!--          //   });-->
<!--          // }-->
<!--        </script>-->
    </div>
  </div>
  <script>
    function getPayments(){
      fetch('/payments', {
        method:'GET',
      }).then(function(response){
        return response.json()
      }).then(function(listPayment){
        displayDates(listPayment)
      })
    }

    function displayDates(listPayment){
      let finalDates = document.querySelector('#getButtons')
      let str = "";
      for(let pay of listPayment){
        str+='<button onclick="displayInfo(pay)">pay.due</button>'

        finalDates.innerHTML = str;
      }
    }


    function displayInfo(pay){
      let finalInfo = document.querySelector('#displayInformation')
      let str ="";
      str += 'Type:'+pay.desc;
      str += 'Due:'+pay.due;
      str += '<button><a href="https://www.paypal.com/us/for-you/transfer-money/send-money">Pay Here!</a></button>'

      finalInfo.innerHTML += str;
    }

  </script>
  
  <script type="module" src="tenantscript.js"></script>

</body>

</html>